define("popupContainer",["lodash","santa-components","componentsCore","reactDOM","components"],function(e,n,t,i,r){return function(e){var n={};function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(n){return e[n]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=975)}({0:function(n,t){n.exports=e},19:function(e,n){e.exports=r},2:function(e,t){e.exports=n},3:function(e,n){e.exports=t},7:function(e,n){e.exports=i},975:function(e,n,t){var i,r,o=function(){return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(t.push(s.value),!n||t.length!==n);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();i=[t(0),t(7),t(3),t(19),t(2)],void 0===(r=function(e,n,t,i,r){"use strict";var s=r.santaTypesDefinitions,a=i.mediaCommon.mediaLogicMixins.fill,p=r.utils.pinnedLayerHelper,u={displayName:"PopupContainer",mixins:[a,t.mixins.skinBasedComp,t.mixins.cyclicTabbingMixin,t.mixins.createChildComponentMixin,r.mixins.inlineContentMixin],propTypes:{isSiteMembersDialogOpen:r.santaTypesDefinitions.SiteMembersSantaTypes.isSiteMembersDialogOpen,closePopupPage:r.santaTypesDefinitions.popupPage.close,isMeshLayoutMechanism:r.santaTypesDefinitions.Layout.isMeshLayoutMechanism,windowKeyboardEvent:r.santaTypesDefinitions.SiteAspects.windowKeyboardEvent.isRequired,isViewerMode:r.santaTypesDefinitions.isViewerMode.isRequired,defaultContentArea:r.santaTypesDefinitions.Container.defaultContentArea.isRequired,pinnedChildrenIDs:s.Component.pinnedChildrenIDs,wixTopAdsHeight:s.WixAds.wixTopAdsHeight},statics:{behaviors:i.mediaCommon.mediaBehaviors.fill},forceRedrawOnAnimationEnded:!0,previousVisibilityState:"hidden",getDefaultSkinName:function(){return"wysiwyg.viewer.skins.stripContainer.DefaultStripContainer"},componentWillMount:function(){this.props.windowKeyboardEvent&&this.props.windowKeyboardEvent.registerToEscapeKey(this),this.props.isViewerMode&&this.registerOnAnimationEnd(function(){var e=this.refs[""];e&&n.findDOMNode(e).focus(),this.unregisterOnAnimationEnd()})},componentDidMount:function(){(this._focusedElementBeforeLightbox=e.get(window,"document.activeElement"),this.props.isViewerMode)&&(n.findDOMNode(this.refs[""]).contains(window.document.activeElement)||n.findDOMNode(this.refs[""]).focus())},componentWillUnmount:function(){this.props.windowKeyboardEvent&&this.props.windowKeyboardEvent.unRegisterKeys(this),this.forceRedrawOnAnimationEnded=!1,this._focusedElementBeforeLightbox&&this._focusedElementBeforeLightbox.focus()},isScreenWidth:function(){return"fullWidth"===e.get(this.props,"compProp.alignmentType")},isFullHeight:function(){return"fullHeight"===e.get(this.props,"compProp.alignmentType")},onEscapeKey:function(){this.props.closePopupPage()},renderChildrenForMesh:function(){var n=this.props,t=n.id,i=n.browser,r=n.pinnedChildrenIDs,s=n.wixTopAdsHeight,a=e.partition(this.props.children,function(e){return!!r[e.props.id]}),u=o(a,2),d=u[0],c=u[1],l=e.filter(this.props.meshParams.components,function(n){return!0===e.get(n,"isFixed",!1)&&e.has(n,"docked")});return[p.createPinnedLayer({id:t+"-pinned-layer",children:d,childrenMeshParams:l,browser:i,wixTopAdsHeight:s})].concat(function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(this.getChildrenRenderer(e.assign({children:c},this.isScreenWidth()&&{contentArea:this.props.defaultContentArea},this.isFullHeight()&&{overrides:{fitToContentHeight:!0}}))))},getSkinProperties:function(){var n=this.props.isMeshLayoutMechanism;return{"":e.assign({onKeyDown:this.preventTabbingOut,"data-docking":JSON.stringify(e.pick(this.props.compProp,["verticalOffset","verticalAlignment","horizontalOffset","horizontalAlignment","alignmentType"])),role:"dialog",style:{pointerEvents:"auto"},tabIndex:-1},n&&{"data-is-mesh":!0}),background:this.createFillLayers({bgStyle:{height:"auto"}}),inlineContent:{children:n?this.renderChildrenForMesh():this.getChildrenRenderer(this.isScreenWidth()&&{contentArea:this.props.defaultContentArea})}}}};return t.compRegistrar.register("wysiwyg.viewer.components.PopupContainer",u),u}.apply(n,i))||(e.exports=r)}})});
//# sourceMappingURL=popupContainer.min.js.map